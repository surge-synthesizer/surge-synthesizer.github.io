<script type=text/javascript>
    function manualChange()
    {
        var selObj = document.getElementById("linkSelect");
        var selValue = selObj.options[selObj.selectedIndex].value;

        switch (selValue)
        {
            case "DE 1.9":
                document.getElementById("manualLinks").innerHTML = "Handbuch";
                document.getElementById("manualLinks").href = "/manual-DE";
                break;
            case "EN 1.9":
                document.getElementById("manualLinks").innerHTML = "Manual";
                document.getElementById("manualLinks").href = "/manual";
                break;
            case "EN XT PDF":
                document.getElementById("manualLinks").innerHTML = "↓ Download";
                document.getElementById("manualLinks").href = "https://github.com/surge-synthesizer/surge-synthesizer.github.io/releases/download/surge-xt-manual/Surge-XT-Manual.pdf";
                break;
            case "EN RACK":
                document.getElementById("manualLinks").innerHTML = "Manual";
                document.getElementById("manualLinks").href = "/rack_xt_manual";
                break;
            case "EN XT":
            case "default":
                document.getElementById("manualLinks").innerHTML = "Manual";
                document.getElementById("manualLinks").href = "/manual-xt";
                break;
        }
    }

    function toggleBG()
    {
        const cb = document.getElementById('toggler');

        if (cb.checked)
        {
            document.body.style.overflow = 'hidden';
            document.body.scroll = "no";
        }
        else
        {
            document.body.style.overflow = 'auto';
            document.body.scroll = "yes";
        }
    }
</script>

<header class="header">
    <div class="menu-wrap">
        <input type="checkbox" class="toggler" id="toggler" onclick="toggleBG()"></input>
        <div class="hamburger"><div></div></div>

        <div class="menu">
            <div>
                <div>
                    <ul>
                        {% for item in site.data.surge_navItems.docs %}
                        <li><a href="{{ item.url }}">{{ item.title }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>


    <div class="header-layout">
        <select class="flagHolder" id="linkSelect" onchange="manualChange()">
            <option value="EN XT" {% if page.title == "Surge XT User Manual" %}selected{% endif %}>EN (XT)</option>
            <option value="EN RACK" {% if page.title == "Surge XT in VCV Rack" %}selected{% endif %}>EN (XT RACK)</option>
            <option value="EN 1.9" {% if page.title == "Surge 1.9 User Manual" %}selected{% endif %}>EN (1.9)</option>
            <option value="DE 1.9" {% if page.title == "Handbuch" %}selected{% endif %}>DE (1.9)</option>
            <option value="EN XT PDF">EN PDF (XT)</option>
        </select>

        <a id="manualLinks" class="link-primary primary-link" href="/manual-xt">Manual</a>

        {% if page.title == "Surge XT User Manual" or "Surge XT in VCV Rack" %}
            <button aria-expanded="false" aria-controls="toc" id="toggle" class="toggle link-primary primary-link" onclick="toggleToc()">☰</button>
        {% endif %}
    </div>
</header>
